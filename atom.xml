<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Zebork&#39;s Blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2017-05-14T17:35:50.000Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Zebork</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>C# 委托和事件</title>
    <link href="http://yoursite.com/2017/05/14/2017/CSharp_2017_05_14/"/>
    <id>http://yoursite.com/2017/05/14/2017/CSharp_2017_05_14/</id>
    <published>2017-05-14T13:57:43.000Z</published>
    <updated>2017-05-14T17:35:50.000Z</updated>
    
    <content type="html"><![CDATA[<p>C# 中的委托和事件是理解这门语言的一道坎，这回记一下。本文能多简略就多简略，如果被想真正学习这方面知识不小心被搜索到，请移步其他大神的博客。</p>
<h2 id="委托"><a href="#委托" class="headerlink" title="委托"></a>委托</h2><p>并没有脱离开事件写过委托，但是委托确实是可以不和事件一起用的。委托是针对方法的一种归类方式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">public delegate void PlayDelegate(string name);</div><div class="line"></div><div class="line">private void PlayBoy(string name) &#123;</div><div class="line">  Console.WriteLine(&quot;Hey &quot;+ name + &quot;, play with me?&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">private void PlayGirl(String name) &#123;</div><div class="line">  Console.WriteLine(&quot;Hey &quot;+ name + &quot;, play with me?&quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">public void Play(string name, PlayDelegate playMethod) &#123;</div><div class="line">  playMethod(name);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>类似于python中的函数名称作为参数传递，只不过更为标准化。</p>
<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><p>不想搞得太复杂，直接上干货，经典的例子，烧水。</p>
<h3 id="Heater类："><a href="#Heater类：" class="headerlink" title="Heater类："></a>Heater类：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public delegate void BoilHandler(object sender, BoilEventArgs e); </div><div class="line">public event BoilHandler BoilEvent;</div><div class="line">public class BoilEventArgs : EventArgs</div><div class="line">&#123;</div><div class="line">    public int temperature &#123; get; set; &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>以上的代码一般是在事件发出对象的内部写。使用public暴露事件。</p>
<h3 id="Alarm类"><a href="#Alarm类" class="headerlink" title="Alarm类"></a>Alarm类</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">public void MakeAlert(object sender, EventArgs e) &#123;</div><div class="line">  ~~~</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="program"><a href="#program" class="headerlink" title="program"></a>program</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">heater.BoilEvent += MakeAlert;</div></pre></td></tr></table></figure>
<p>实际上如果<code>using system;</code>之后，可以用System命名空间下的EventHandler进行操作，看一下<a href="https://msdn.microsoft.com/en-us/library/system.eventhandler" target="_blank" rel="external">MSDN</a>吧，比较详细。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>发送者做好委托和事件的设定，包装好参数，事件定义为public，外部暴露后将接收方法注册到事件上，参数与委托中定义的一致。</p>
<p><img src="/img/2017/05/CSharp.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;C# 中的委托和事件是理解这门语言的一道坎，这回记一下。本文能多简略就多简略，如果被想真正学习这方面知识不小心被搜索到，请移步其他大神的博客。&lt;/p&gt;
&lt;h2 id=&quot;委托&quot;&gt;&lt;a href=&quot;#委托&quot; class=&quot;headerlink&quot; title=&quot;委托&quot;&gt;&lt;/a&gt;委
    
    </summary>
    
      <category term="Programing" scheme="http://yoursite.com/categories/Programing/"/>
    
    
      <category term="C#" scheme="http://yoursite.com/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>出事儿啦</title>
    <link href="http://yoursite.com/2017/03/17/Beginning/"/>
    <id>http://yoursite.com/2017/03/17/Beginning/</id>
    <published>2017-03-17T05:46:17.000Z</published>
    <updated>2017-03-19T06:33:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>之前的博客狗带了，备份的不是源文件，重做一份太麻烦。</p>
<p>新的开始。。</p>
<p><img src="/img/go_die.jpg" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;之前的博客狗带了，备份的不是源文件，重做一份太麻烦。&lt;/p&gt;
&lt;p&gt;新的开始。。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/go_die.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

    
    </summary>
    
      <category term="扯淡" scheme="http://yoursite.com/categories/%E6%89%AF%E6%B7%A1/"/>
    
    
      <category term="扯淡" scheme="http://yoursite.com/tags/%E6%89%AF%E6%B7%A1/"/>
    
  </entry>
  
  <entry>
    <title>我就看看Seafile是个啥</title>
    <link href="http://yoursite.com/2017/03/17/2017/Seafile_2017_08_31/"/>
    <id>http://yoursite.com/2017/03/17/2017/Seafile_2017_08_31/</id>
    <published>2017-03-17T05:46:17.000Z</published>
    <updated>2017-08-31T08:00:02.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/img/2017/08/1.png" alt="1"></p>
<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p><a href="https://www.seafile.com" target="_blank" rel="external">Seafile官网</a>上的一段介绍：”Seafile 是一款开源的企业云盘，注重可靠性和性能。支持 Windows, Mac, Linux, iOS, Android 平台。支持文件同步或者直接挂载到本地访问。“</p>
<p>seafile代码托管在<a href="https://github.com/haiwen/seafile" target="_blank" rel="external">github</a>上，看了一下最近的commit，貌似很神奇，一片红叉。</p>
<h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><p>直接搞了个Debian9 x64位系统测试，为啥要用这么新的呢，因为方便，为啥方便呢，因为内核版本是4.9，不用换内核了（我这么懒），为啥要换内核呢，因为锐速不支持ipv6，我要用bbr啊，为啥要用bbr呢？……拉倒吧，不扯犊子了。</p>
<p>使用最熟悉的MySQL部署，跟着<a href="http://manual-cn.seafile.com/deploy/using_mysql.html" target="_blank" rel="external">文档</a>先把各种依赖软件安了，表示文档中这个目录设计还是很不错的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">apt-get update</div><div class="line">apt-get install mariadb-server</div><div class="line">apt-get install python2.7 python-setuptools python-imaging python-ldap python-mysqldb python-memcache python-urllib3</div></pre></td></tr></table></figure>
<h2 id="安装过程"><a href="#安装过程" class="headerlink" title="安装过程"></a>安装过程</h2><p>文档中写的比较详细，所以这里就简单写一下好了。</p>
<p>安装过程开始要填写一些信息</p>
<p><img src="/img/2017/08/2.png" alt="2"></p>
<p>配置好后的样子：</p>
<p><img src="/img/2017/08/3.png" alt="3"></p>
<p>按照官网的介绍，不过我改了一下端口：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">./seafile.sh start # 启动 Seafile 服务</div><div class="line">./seahub.sh start 38000 # 启动 Seahub 网站 （运行在38000端口上）</div></pre></td></tr></table></figure>
<h2 id="客户端是个什么感觉"><a href="#客户端是个什么感觉" class="headerlink" title="客户端是个什么感觉"></a>客户端是个什么感觉</h2><p><img src="/img/2017/08/4.png" alt="4"></p>
<p>看起来有点网盘的样子，功能很强大。不过http是不太能够让人放心的。</p>
<p>直接用网页访问就是这个效果（明文密码）：</p>
<p><img src="/img/2017/08/5.png" alt="5"></p>
<p>脱离浏览器的客户端也是一个叼样子（毕竟都是http协议，其实不用测了）：</p>
<p><img src="/img/2017/08/6.png" alt="6"></p>
<h2 id="安利时间"><a href="#安利时间" class="headerlink" title="安利时间"></a>安利时间</h2><p>直接默认http搭建的姿势肯定是不可取的了。不过Seafile支持用apache2或者nginx进行反向代理，采用FastCGI，对外开放https的方式。这种配置方式Seafile的中文文档做的还是很详细的。</p>
<p><img src="/img/2017/08/7.png" alt="7"></p>
<p>我用了一个东西比较多的服务器去搞这个事情，为了不和之前的服务冲突，这个https就不测试了。毕竟硬盘剩余空间还有2G，折腾完自己也用着不爽（2333）。</p>
<p>不过我看到了一个很叼的图：</p>
<p><img src="/img/2017/08/7.png" alt="8"></p>
<p>OK，这东西还支持分布式，美滋滋。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/img/2017/08/1.png&quot; alt=&quot;1&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://www.sea
    
    </summary>
    
      <category term="无聊折腾" scheme="http://yoursite.com/categories/%E6%97%A0%E8%81%8A%E6%8A%98%E8%85%BE/"/>
    
    
      <category term="Seafile" scheme="http://yoursite.com/tags/Seafile/"/>
    
  </entry>
  
</feed>
